{% extends 'flatpages/default.html' %}

{% block content %}
<div class="container mt-4">

    {% if not form %}
    {# –†–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ #}
    <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</h2>

    <div class="row mt-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body text-center">
                    <h5 class="card-title">üì∞ –ù–æ–≤–æ—Å—Ç—å</h5>
                    <p class="card-text">–°–æ–∑–¥–∞—Ç—å –∫–æ—Ä–æ—Ç–∫—É—é –Ω–æ–≤–æ—Å—Ç–Ω—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é</p>
                    <a href="{% url 'create_nw' %}" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ—Å—Ç—å</a>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card">
                <div class="card-body text-center">
                    <h5 class="card-title">üìù –°—Ç–∞—Ç—å—è</h5>
                    <p class="card-text">–°–æ–∑–¥–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é —Å—Ç–∞—Ç—å—é</p>
                    <a href="{% url 'create_nw' %}" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é</a>
                </div>
            </div>
        </div>
    </div>

    {% else %}
    {# –†–µ–∂–∏–º —Å–æ–∑–¥–∞–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ #}
    <p><h2>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é: –°—Ç–∞—Ç—å—é | –ù–æ–≤–æ—Å—Ç—å {{ post_type_display }}</h2><p/>
    <p>&nbsp;</p>

    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <form method="post" novalidate>
        {% csrf_token %}

        {% if form.non_field_errors %}
        <div class="alert alert-danger">
            {% for error in form.non_field_errors %}
            <strong>{{ error }}</strong><br>
            {% endfor %}
        </div>
        {% endif %}

       <!-- –í–∏–¥–∏–º–æ–µ –ø–æ–ª–µ –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ -->
        <div class="mb-3">
            <label for="{{ form.categoryType.id_for_label }}" class="form-label">–¢–∏–ø –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:</label>
            {{ form.categoryType }}
            {% if form.categoryType.errors %}
            <div class="text-danger mt-1">
                {% for error in form.categoryType.errors %}
                <small class="d-block">‚Ä¢ {{ error }}</small>
                {% endfor %}
            </div>
            {% endif %}
            <div class="form-text">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.</div>
        </div>

        <!-- –ü–æ–ª–µ –∞–≤—Ç–æ—Ä–∞ -->
        <div class="mb-3">
            <label for="{{ form.author_name.id_for_label }}" class="form-label">–ò–º—è –∞–≤—Ç–æ—Ä–∞:</label>
            {{ form.author_name }}
            {% if form.author_name.errors %}
            <div class="text-danger mt-1">
                {% for error in form.author_name.errors %}
                <small class="d-block">‚Ä¢ {{ error }}</small>
                {% endfor %}
            </div>
            {% endif %}
            <div class="form-text">–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∞–≤—Ç–æ—Ä–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.</div>
        </div>

        <!-- –ü–æ–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ -->
        <div class="mb-3">
            <label for="{{ form.title.id_for_label }}" class="form-label">–ó–∞–≥–æ–ª–æ–≤–æ–∫:</label>
            {{ form.title }}
            {% if form.title.errors %}
            <div class="text-danger mt-1">
                {% for error in form.title.errors %}
                <small class="d-block">‚Ä¢ {{ error }}</small>
                {% endfor %}
            </div>
            {% endif %}
            <div class="form-text">–ú–∏–Ω–∏–º—É–º 5 —Å–∏–º–≤–æ–ª–æ–≤, –º–∞–∫—Å–∏–º—É–º 128. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º.</div>
        </div>

        <!-- –ü–æ–ª–µ —Ç–µ–∫—Å—Ç–∞ -->
        <div class="mb-3">
            <label for="{{ form.text.id_for_label }}" class="form-label">–¢–µ–∫—Å—Ç {{ post_type_display|lower }}:</label>
            {{ form.text }}
            {% if form.text.errors %}
            <div class="text-danger mt-1">
                {% for error in form.text.errors %}
                <small class="d-block">‚Ä¢ {{ error }}</small>
                {% endfor %}
            </div>
            {% endif %}
            <div class="form-text">–ú–∏–Ω–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤. –¢–µ–∫—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º.</div>
        </div>

        <div class="d-grid gap-2 d-md-flex">
            <button type="submit" class="btn btn-primary me-md-2">
                –°–æ–∑–¥–∞—Ç—å {{ post_type_display|lower }}
            </button>
        </div>
    </form>
    {% endif %}

</div>
{% endblock %}